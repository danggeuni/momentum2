{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juno\\\\Documents\\\\GitHub\\\\momentum2\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport Clock from \"./components/Clock\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Name from \"./components/Name\";\nimport axios from \"axios\";\nimport React, { useRef, useReducer, useEffect, useState } from \"react\";\n\n// reducer CRUD 함수\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  let newState = [];\n  switch (action.type) {\n    case \"INIT\":\n      {\n        return action.data;\n      }\n    case \"CREATE\":\n      {\n        newState = [action.data, ...state];\n        break;\n      }\n    case \"DELETE\":\n      {\n        newState = state.filter(item => item.id !== action.targetId);\n        break;\n      }\n    case \"CHECK\":\n      {\n        newState = [...state];\n        // eslint-disable-next-line array-callback-return\n        newState.map(item => {\n          if (item.id === action.targetId) {\n            item.isChecked = !item.isChecked;\n          }\n        });\n        break;\n      }\n    default:\n      return state;\n  }\n  localStorage.setItem(\"list\", JSON.stringify(newState));\n  return newState;\n};\nexport const stateContext = /*#__PURE__*/React.createContext();\nexport const dispatchContext = /*#__PURE__*/React.createContext();\nfunction App() {\n  _s();\n  const [data, dispatch] = useReducer(reducer, []);\n  const dataId = useRef(0);\n  const [images, setImages] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchImages = async () => {\n      try {\n        // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n        setError(null);\n        setImages(null);\n        // loading 상태를 true 로 바꿉니다.\n        setLoading(true);\n        const response = await axios.get(\"https://api.unsplash.com/search/photos/?query=nature&color=black&orientation=landscape&client_id=4tCQTL567iRyvBp2qbupg1qtYcpX7xAqdbcBf1bxR5U\");\n        const index = Math.floor(Math.random() * response.data.results.length);\n        console.log(response.data.results.length);\n        setImages(response.data.results[index].urls.regular); // 데이터는 response.data 안에 들어있습니다.\n      } catch (e) {\n        setError(e);\n      }\n      setLoading(false);\n    };\n    fetchImages();\n  }, []);\n  useEffect(() => {\n    const localData = localStorage.getItem(\"list\");\n    if (localData) {\n      const todoList = JSON.parse(localData).sort((a, b) => parseInt(b.id) - parseInt(a.id));\n      if (todoList.length >= 1) {\n        dataId.current = parseInt(todoList[0].id) + 1;\n        dispatch({\n          type: \"INIT\",\n          data: todoList\n        });\n      }\n    }\n  }, []);\n  console.log(images);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading..\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 21\n  }, this);\n  if (!images) return null;\n\n  // 아이템 생성 함수\n  const onCreate = content => {\n    dispatch({\n      type: \"CREATE\",\n      data: {\n        id: dataId.current,\n        content,\n        isChecked: false\n      }\n    });\n    dataId.current += 1;\n  };\n\n  // 아이템 삭제 함수\n  const onDelete = targetId => {\n    dispatch({\n      type: \"DELETE\",\n      targetId\n    });\n  };\n  const onCheck = targetId => {\n    dispatch({\n      type: \"CHECK\",\n      targetId\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(stateContext.Provider, {\n    value: data,\n    children: /*#__PURE__*/_jsxDEV(dispatchContext.Provider, {\n      value: {\n        onCreate,\n        onDelete,\n        onCheck\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        style: {\n          backgroundImage: `url(${images})`\n        },\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Name, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"QMgqKlO3mzmUILBjttDY/TelEYg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Clock","Footer","Header","Name","axios","React","useRef","useReducer","useEffect","useState","reducer","state","action","newState","type","data","filter","item","id","targetId","map","isChecked","localStorage","setItem","JSON","stringify","stateContext","createContext","dispatchContext","App","dispatch","dataId","images","setImages","loading","setLoading","error","setError","fetchImages","response","get","index","Math","floor","random","results","length","console","log","urls","regular","e","localData","getItem","todoList","parse","sort","a","b","parseInt","current","onCreate","content","onDelete","onCheck","backgroundImage"],"sources":["C:/Users/Juno/Documents/GitHub/momentum2/src/App.js"],"sourcesContent":["import \"./App.css\";\r\n\r\nimport Clock from \"./components/Clock\";\r\nimport Footer from \"./components/Footer\";\r\nimport Header from \"./components/Header\";\r\nimport Name from \"./components/Name\";\r\nimport axios from \"axios\";\r\n\r\nimport React, { useRef, useReducer, useEffect, useState } from \"react\";\r\n\r\n// reducer CRUD 함수\r\nconst reducer = (state, action) => {\r\n  let newState = [];\r\n\r\n  switch (action.type) {\r\n    case \"INIT\": {\r\n      return action.data;\r\n    }\r\n\r\n    case \"CREATE\": {\r\n      newState = [action.data, ...state];\r\n      break;\r\n    }\r\n\r\n    case \"DELETE\": {\r\n      newState = state.filter((item) => item.id !== action.targetId);\r\n      break;\r\n    }\r\n\r\n    case \"CHECK\": {\r\n      newState = [...state];\r\n      // eslint-disable-next-line array-callback-return\r\n      newState.map((item) => {\r\n        if (item.id === action.targetId) {\r\n          item.isChecked = !item.isChecked;\r\n        }\r\n      });\r\n      break;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  localStorage.setItem(\"list\", JSON.stringify(newState));\r\n  return newState;\r\n};\r\n\r\nexport const stateContext = React.createContext();\r\nexport const dispatchContext = React.createContext();\r\n\r\nfunction App() {\r\n  const [data, dispatch] = useReducer(reducer, []);\r\n  const dataId = useRef(0);\r\n\r\n  const [images, setImages] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      try {\r\n        // 요청이 시작 할 때에는 error 와 users 를 초기화하고\r\n        setError(null);\r\n        setImages(null);\r\n        // loading 상태를 true 로 바꿉니다.\r\n        setLoading(true);\r\n        const response = await axios.get(\r\n          \"https://api.unsplash.com/search/photos/?query=nature&color=black&orientation=landscape&client_id=4tCQTL567iRyvBp2qbupg1qtYcpX7xAqdbcBf1bxR5U\"\r\n        );\r\n        const index = Math.floor(Math.random() * response.data.results.length);\r\n        console.log(response.data.results.length);\r\n        setImages(response.data.results[index].urls.regular); // 데이터는 response.data 안에 들어있습니다.\r\n      } catch (e) {\r\n        setError(e);\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchImages();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const localData = localStorage.getItem(\"list\");\r\n\r\n    if (localData) {\r\n      const todoList = JSON.parse(localData).sort(\r\n        (a, b) => parseInt(b.id) - parseInt(a.id)\r\n      );\r\n\r\n      if (todoList.length >= 1) {\r\n        dataId.current = parseInt(todoList[0].id) + 1;\r\n        dispatch({ type: \"INIT\", data: todoList });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  console.log(images);\r\n\r\n  if (loading) return <div>Loading..</div>;\r\n  if (error) return <div>에러가 발생했습니다</div>;\r\n  if (!images) return null;\r\n\r\n  // 아이템 생성 함수\r\n  const onCreate = (content) => {\r\n    dispatch({\r\n      type: \"CREATE\",\r\n      data: {\r\n        id: dataId.current,\r\n        content,\r\n        isChecked: false,\r\n      },\r\n    });\r\n    dataId.current += 1;\r\n  };\r\n\r\n  // 아이템 삭제 함수\r\n  const onDelete = (targetId) => {\r\n    dispatch({\r\n      type: \"DELETE\",\r\n      targetId,\r\n    });\r\n  };\r\n\r\n  const onCheck = (targetId) => {\r\n    dispatch({\r\n      type: \"CHECK\",\r\n      targetId,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <stateContext.Provider value={data}>\r\n      <dispatchContext.Provider value={{ onCreate, onDelete, onCheck }}>\r\n        <div className=\"App\" style={{ backgroundImage: `url(${images})` }}>\r\n          <Header />\r\n          <div className={\"article\"}>\r\n            <Clock />\r\n            <Name />\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      </dispatchContext.Provider>\r\n    </stateContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}